---

---

<div
  id="nav-timer"
  transition:persist
  aria-hidden="true"
  class="pointer-events-none fixed inset-x-0 bottom-2 z-0 px-3 sm:px-4 md:px-6"
>
  <div
    id="transition-text"
    class="font-mono text-muted-foreground/10 dark:text-muted-foreground/5 text-[clamp(4rem,16vw,10rem)] leading-none whitespace-nowrap overflow-hidden text-ellipsis"
  >
    0ms
  </div>
</div>

<script is:inline data-astro-rerun>
  (function () {
    let startTime = 0;
    let previousRoute = window.location.pathname;
    const transitionTextElement = document.getElementById("transition-text");

    const setTransitionText = (duration) => {
      if (!transitionTextElement) {
        return;
      }

      transitionTextElement.textContent = `${duration}ms`;
    };

    setTransitionText(0);

    document.addEventListener("astro:before-preparation", () => {
      startTime = performance.now();
    });

    document.addEventListener("astro:page-load", () => {
      if (startTime) {
        const endTime = performance.now();
        const duration = Math.round(endTime - startTime);
        const currentRoute = window.location.pathname;
        setTransitionText(duration);
        previousRoute = currentRoute;
        startTime = 0;
      }
    });
  })();
</script>
